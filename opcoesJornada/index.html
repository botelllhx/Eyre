<!DOCTYPE html>
<html>

<head>
  <title>Eyre - Viagens acessíveis</title>
  <link rel="stylesheet" type="text/css" href="style.css" />
  <link rel="icon" href="./imagens/logoEyre.png" type="image/x-icon" />
  <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet" />
</head>

<body>
  <div>
    <img src="./imagens/logo.png" class="logo" />
  </div>
  <div>
    <h1 class="tituloJornada">Suas opções de jornada!</h1>
  </div>
  <div class="inline">
    <div class="opcoes">
      <h2 class="tituloBrisas" id="titulo">Brisas do Farol</h2>
      <div class="infoBranco">
        <img src="./imagens/brisasdofarol.jpg" class="imgBrisas" id="imagemHospedagem" />
        <h2 class="tituloSuite" id="tipoQuarto">Suíte</h2>
        <p class="infoBrisas" id="descricaoQuarto">
          Estúdio inteiro • 1 banheiro • 1 cozinha • 20m²<br />
          3 camas (2 de solteiro, 1 de casal).
        </p>
        <br />
        <p class="cancelamento" id="listExtras">Cancelamento grátis</p>
        <br />
        <p class="resta">Restaㅤ<strong id="quantidadeReservas">1</strong>ㅤunidades por esse preço no nosso site</p>
      </div>
      <div class="bordaDatas" id="existeVooOnibus">
        <h2 class="tituloTransporte">Transporte</h2>
        <div>
          <img src="./imagens/iconeVoo.png" class="datasbrisas" />
          <p class="textobrisas">Opções de <b>voo</b> disponíveis ida/volta</p>
        </div>
        <div>
          <img src="./imagens/iconeBus.png" class="datasbrisas" />
          <p class="textobrisas">Opções de <b>ônibus</b> disponíveis ida/volta</p>
        </div>
      </div>
      <div class="botao">
        <a href="../pacote/index.html"><input type="button" value="QUERO SABER MAIS" /></a>
      </div>
    </div>
    <div class="opcoes">
      <h2 class="tituloPousada" id="titulo2">Pousada Bicho do Mar</h2>
      <div class="infoBranco">
        <img src="./imagens/pousadabichodomar.jpg" class="imgPousada" id="imagemHospedagem2" />
        <h2 class="tituloSuite" id="tipoQuarto2">Suíte Superior</h2>
        <p class="infoBrisas" id="descricaoQuarto2">
          Suíte privativa • 1 quarto • 1 sala • 1 banheiro<br />
          1 cama de casal.
        </p>
        <br />
        <p class="cancelamento" id="listExtras2">Café da manhã incluído</p>
        <br />
        <p class="resta">Restaㅤ<strong id="quantidadeReservas2"> 1 </strong>ㅤunidades por esse preço no nosso site</p>
      </div>
      <div class="bordaDatas" id="existeVooOnibus2">
        <h2 class="tituloTransporte">Transporte</h2>
        <div>
          <img src="./imagens/iconeVoo.png" class="datasbrisas" />
          <p class="textobrisas">Opções de <b>voo</b> disponíveis ida/volta</p>
        </div>
        <div>
          <img src="./imagens/iconeBus.png" class="datasbrisas" />
          <p class="textobrisas">Opções de <b>ônibus</b> disponíveis ida/volta</p>
        </div>
      </div>
      <div class="botao">
        <input type="button" value="QUERO SABER MAIS" />
      </div>
    </div>
    <div class="opcoes">
      <h2 class="tituloHotel" id="titulo3">Hotel da Canoa</h2>
      <div class="infoBranco">
        <img src="./imagens/hoteldacanoa.jpg" class="imgHotel" id="imagemHospedagem3" />
        <h2 class="tituloSuite" id="tipoQuarto3">Quarto Duplo Standard</h2>
        <p class="infoBrisas" id="descricaoQuarto3">
          1 cama de casal grande • 1 banheiro • 450 m&nbsp&nbsp<br />
          da praia.
        </p>
        <br />
        <p class="cancelamento" id="listExtras3">Café da manhã incluído</p>
        <br />
        <p class="resta">Restaㅤ<strong id="quantidadeReservas3">2</strong>ㅤunidades por esse preço no nosso site</p>
      </div>
      <div class="bordaDatas" id="existeVooOnibus3">
        <h2 class="tituloTransporte">Transporte</h2>
        <div>
          <img src="./imagens/iconeVoo.png" class="datasbrisas" />
          <p class="textobrisas">Opções de <b>voo</b> disponíveis ida/volta</p>
        </div>
        <div>
          <img src="./imagens/iconeBus.png" class="datasbrisas" />
          <p class="textobrisas">Opções de <b>ônibus</b> disponíveis ida/volta</p>
        </div>
      </div>
      <div class="botao">
        <input type="button" value="QUERO SABER MAIS" />
      </div>
    </div>
    <div id="loading" class="loading-overlay">
      <div class="loading-spinner">
        <img src="./imagens/logoAnimada.gif" alt="Loading" />
        <div class="loading-text">Carregando</div>
      </div>
    </div>

    <script>
      // Pré requisição
      document.getElementById('loading').style.display = 'block';
      function requisicao(id, url, method){

      }

      // Requisição Fetch
      fetch('http://localhost:8080/api/hospedagem/1', {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json'
        }
      })
        .then(function (response) {
          if (response.ok) {
            // A requisição deu certo
            return response.json();
          } else {
            // A requisição falhou
            throw new Error('Erro na requisição: ' + response.status);
          }
        })
        .then(function (data) {

          // Resposta do servidor

          console.log('Resposta do servidor:', data);

          // Substitui as info dos cards

          var card1 = document.getElementsByClassName('opcoes')[0];
          var card2 = document.getElementsByClassName('opcoes')[1];
          var card3 = document.getElementsByClassName('opcoes')[2];

          setTimeout(function () {

            var data = {
              card1: {
                id: 1,
                titulo: "Brisas do Farol",
                tipoQuarto: "",
                descricaoQuarto: "Estúdio inteiro, 1 banheiro, 1 cozinha, 20m², 3 camas (2 de solteiro, 1 de casal).",
                listExtras: [
                  {
                    id: 1,
                    nome: "Cancelamento gratuito."
                  },
                  {
                    id: 2,
                    nome: "Café da manhã incluído.",
                  }
                ],
                quantidadeReservas: "1",
                imagemHospedagem: {
                  id: 1,
                  nome: "Brisas do Farol",
                  dados: "./imagens/brisasdofarol.jpg", // virar código maluco e depois desvirar código maluco
                },
                existeVoo: true,
                existeOnibus: true,
              },
              card2: {
                id: 2,
                titulo: "Pousada Bicho do Mar",
                tipoQuarto: "Suíte Superior",
                descricaoQuarto: "Suíte privativa, 1 quarto, 1 sala, 1 banheiro, 1 cama de casal.",
                listExtras: [
                  {
                    id: 1,
                    nome: "Cancelamento gratuito."
                  },
                  {
                    id: 2,
                    nome: "Café da manhã incluído.",
                  }
                ],
                quantidadeReservas: "2",
                imagemHospedagem: {
                  id: 1,
                  nome: "Pousada Bicho do Mar",
                  dados: "./imagens/pousadabichodomar.jpg", // virar código maluco e depois desvirar código maluco
                },
                existeVoo: true,
                existeOnibus: true,
              },
              card3: {
                id: 3,
                titulo: "Hotel da Canoa",
                tipoQuarto: "Quarto Duplo Standard",
                descricaoQuarto: "1 cama de casal grande, 1 banheiro, 450 m da praia.",
                listExtras: [
                  {
                    id: 1,
                    nome: "Cancelamento gratuito."
                  },
                  {
                    id: 2,
                    nome: "Café da manhã incluído.",
                  }
                ],
                quantidadeReservas: "1",
                imagemHospedagem: {
                  id: 1,
                  nome: "Hotel da Canoa",
                  dados: "./imagens/hoteldacanoa.jpg", // virar código maluco e depois desvirar código maluco
                },
                existeVoo: true,
                existeOnibus: true,
              }
            };

            // Card 1
            document.getElementById('titulo').innerHTML = data.card1.titulo;
            document.getElementById('tipoQuarto').innerHTML = data.card1.tipoQuarto !== "" ? data.card1.tipoQuarto : "Tipo não especificado";
            document.getElementById('descricaoQuarto').innerHTML = data.card1.descricaoQuarto;
            var listExtras1 = document.getElementById('listExtras');
            listExtras1.textContent = data.card1.listExtras[0].nome;
            document.getElementById('quantidadeReservas').innerHTML = data.card1.quantidadeReservas;
            document.getElementById('imagemHospedagem').src = data.card1.imagemHospedagem.dados;

            // Card 2
            document.getElementById('titulo2').innerHTML = data.card2.titulo;
            document.getElementById('tipoQuarto2').innerHTML = data.card2.tipoQuarto !== "" ? data.card2.tipoQuarto : "Tipo não especificado";
            document.getElementById('descricaoQuarto2').innerHTML = data.card2.descricaoQuarto;
            var listExtras2 = document.getElementById('listExtras2');
            listExtras2.textContent = data.card2.listExtras[0].nome;
            document.getElementById('quantidadeReservas2').innerHTML = data.card2.quantidadeReservas;
            document.getElementById('imagemHospedagem2').src = data.card2.imagemHospedagem.dados;

            // Card 3
            document.getElementById('titulo3').innerHTML = data.card3.titulo;
            document.getElementById('tipoQuarto3').innerHTML = data.card3.tipoQuarto !== "" ? data.card3.tipoQuarto : "Tipo não especificado";
            document.getElementById('descricaoQuarto3').innerHTML = data.card3.descricaoQuarto;
            var listExtras3 = document.getElementById('listExtras3');
            listExtras3.textContent = data.card3.listExtras[0].nome;
            document.getElementById('quantidadeReservas3').innerHTML = data.card3.quantidadeReservas;
            document.getElementById('imagemHospedagem3').src = data.card3.imagemHospedagem.dados;

            // Depois de receber a resposta do servidor
            document.getElementById('loading').style.display = 'none';
          }, 5000); // Aguarde 5 segundos (5000 milissegundos) antes de ocultar a tela de loading
        })
        .catch(function (error) {
          // Tratar erros ocorridos durante a requisição
          console.error('Erro:', error);

          // Em caso de erro, também é necessário esconder a tela de loading
          document.getElementById('loading').style.display = 'none';
        });

    </script>
    <script type="text/javascript" src="script.js"></script>
</body>

</html>